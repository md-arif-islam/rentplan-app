import{d as O,c as R,k as D,m as v,r as p,n as U,o as M,p as z,e as G,j as l,a as e,I as x,C as Q,B as b,L as _}from"./index.075fb68b.js";const H=()=>{var u,g,N;const y=O(),i=R(),c=D(),s=v(m=>m.auth.user);v(m=>m.profile.profile);const r=((u=s==null?void 0:s.role)==null?void 0:u.name)||"",t=r==="super_admin",k=r==="company_admin";p.exports.useEffect(()=>{r&&i(U(r))},[r,i]);const{data:w,isLoading:A,error:L,refetch:C}=M(s==null?void 0:s.id,{skip:!t||!(s!=null&&s.id),refetchOnMountOrArgChange:!0}),{data:E,isLoading:P,error:I,refetch:j}=z(s==null?void 0:s.id,{skip:!k||!(s!=null&&s.id),refetchOnMountOrArgChange:!0}),a=t?w:E,$=t?A:P,n=t?L:I,d=t?C:j;if(p.exports.useEffect(()=>{c.pathname.includes("/profile")&&!c.pathname.includes("/edit")&&d()},[c,d]),p.exports.useEffect(()=>{a&&i(G(a))},[a,i]),$)return l("div",{className:"space-y-5 profile-page",children:[e("div",{className:"h-[150px] w-full rounded-t-lg bg-gray-200 animate-pulse"}),l("div",{className:"profiel-wrap px-[35px] pb-10 md:pt-[84px] pt-10 rounded-lg bg-white dark:bg-slate-800",children:[e("div",{className:"h-[186px] w-[186px] rounded-full mx-auto mb-4 bg-gray-200 animate-pulse"}),e("div",{className:"h-6 w-1/2 mx-auto mb-2 bg-gray-200 animate-pulse"}),e("div",{className:"h-4 w-1/3 mx-auto bg-gray-200 animate-pulse"})]})]});if(n)return e("div",{className:"space-y-5 profile-page",children:l("div",{className:"p-6 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:[e("h2",{className:"text-lg font-bold mb-2",children:"Error Loading Profile"}),e("p",{className:"mb-4",children:((g=n==null?void 0:n.data)==null?void 0:g.message)||"Could not load profile information"}),e("button",{onClick:d,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Retry"})]})});const h=a!=null&&a.avatar?`https://kolster-app.onlinewithyou.nl/${a.avatar}`:null,B=(a==null?void 0:a.name)||"N/A",o=((N=a==null?void 0:a.user)==null?void 0:N.email)||(s==null?void 0:s.email)||"N/A",f=t?"/admin":"/company";return e("div",{children:l("div",{className:"space-y-5 profile-page",children:[l("div",{className:"profiel-wrap px-[35px] pb-10 md:pt-[84px] pt-10 rounded-lg bg-white dark:bg-slate-800 lg:flex lg:space-y-0 space-y-6 justify-between items-end relative z-[1]",children:[e("div",{className:"bg-slate-900 dark:bg-slate-700 absolute left-0 top-0 md:h-1/2 h-[150px] w-full z-[-1] rounded-t-lg"}),e("div",{className:"profile-box flex-none md:text-start text-center",children:l("div",{className:"md:flex items-end md:space-x-6 rtl:space-x-reverse",children:[e("div",{className:"flex-none",children:e("div",{className:"md:h-[186px] md:w-[186px] h-[140px] w-[140px] md:ml-0 md:mr-0 ml-auto mr-auto md:mb-0 mb-4 rounded-full ring-4 ring-slate-100 relative",children:h?e("img",{src:h,alt:"User profile",className:"w-full h-full object-cover rounded-full"}):e("div",{className:"flex items-center justify-center w-full h-full bg-slate-200 dark:bg-slate-700 rounded-full",children:e(x,{icon:"heroicons-outline:user",className:"text-4xl"})})})}),l("div",{className:"flex-1",children:[e("div",{className:"text-2xl font-medium text-slate-900 dark:text-slate-200 mb-[3px]",children:B}),e("div",{className:"text-sm font-light text-slate-600 dark:text-slate-400",children:o})]})]})})]}),e("div",{className:"grid grid-cols-12 gap-6",children:e("div",{className:"lg:col-span-12 col-span-12",children:e(Q,{title:"Personal Information",children:l("ul",{className:"list space-y-8",children:[l("li",{className:"flex space-x-3 rtl:space-x-reverse",children:[e("div",{className:"flex-none text-2xl text-slate-600 dark:text-slate-300",children:e(x,{icon:"heroicons:envelope"})}),l("div",{className:"flex-1",children:[e("div",{className:"uppercase text-sm text-slate-500 dark:text-slate-300 mb-1 leading-[12px]",children:"EMAIL"}),e("a",{href:`mailto:${o}`,className:"text-base text-slate-600 dark:text-slate-50",children:o})]})]}),l("li",{className:"flex space-x-3 rtl:space-x-reverse",children:[e("div",{className:"flex-none text-2xl text-slate-600 dark:text-slate-300",children:e(x,{icon:"heroicons:phone-arrow-up-right"})}),l("div",{className:"flex-1",children:[e("div",{className:"uppercase text-sm text-slate-500 dark:text-slate-300 mb-1 leading-[12px]",children:"PHONE"}),e("a",{href:`tel:${(a==null?void 0:a.phone)||""}`,className:"text-base text-slate-600 dark:text-slate-50",children:(a==null?void 0:a.phone)||"N/A"})]})]})]})})})}),l("div",{className:"flex justify-between",children:[e(b,{icon:"heroicons:arrow-left",text:"Back to Dashboard",className:"btn-outline-dark",onClick:()=>y(`${f}/dashboard`)}),e(_,{to:`${f}/profile/${a==null?void 0:a.id}/edit`,children:e(b,{icon:"heroicons:pencil-square",text:"Edit Profile",className:"btn-dark"})})]})]})})};export{H as default};
