import{j as t,a as e,C as a,I as l,L as r}from"./index.075fb68b.js";import{u as N}from"./dashboardApiSlice.fb731294.js";const y=()=>{var x;const{data:i,isLoading:p,isError:u,error:d}=N();if(p)return t("div",{className:"space-y-5",children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[1,2,3,4].map(s=>e(a,{children:e("div",{className:"h-24 animate-pulse bg-slate-200 dark:bg-slate-700 rounded"})},s))}),e(a,{children:e("div",{className:"h-[335px] animate-pulse bg-slate-200 dark:bg-slate-700 rounded"})})]});if(u)return e(a,{children:t("div",{className:"flex flex-col items-center justify-center h-60",children:[e(l,{icon:"heroicons-outline:exclamation-circle",className:"text-danger-500 text-4xl mb-2"}),e("h3",{className:"text-xl font-medium text-slate-900",children:"Error Loading Dashboard Data"}),e("p",{className:"text-sm text-slate-600 mt-1 mb-4",children:((x=d==null?void 0:d.data)==null?void 0:x.message)||"Could not load dashboard information"})]})});const c=(i==null?void 0:i.stats)||{totalCompanies:0,activeCompanies:0,trialCompanies:0,inactiveCompanies:0,totalUsers:0,recentLogins:0,totalRevenue:0,monthlyRevenue:0},o=(i==null?void 0:i.companyTrends)||[],m=(i==null?void 0:i.recentActivity)||[],h=(i==null?void 0:i.upcomingExpiries)||[];return t("div",{className:"space-y-5",children:[t("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[e(a,{children:t("div",{className:"space-y-1",children:[t("div",{className:"flex items-center justify-between",children:[e("div",{className:"text-slate-500",children:"Total Companies"}),e("div",{className:"bg-primary-500/10 text-primary-500 rounded-full p-2",children:e(l,{icon:"heroicons-outline:office-building"})})]}),e("div",{className:"text-2xl font-medium text-slate-900",children:c.totalCompanies}),e("div",{className:"flex items-center space-x-2",children:e("span",{className:"text-sm text-slate-500",children:e(r,{to:"/admin/companies",className:"text-primary-500 hover:underline",children:"View all companies"})})})]})}),e(a,{children:t("div",{className:"space-y-1",children:[t("div",{className:"flex items-center justify-between",children:[e("div",{className:"text-slate-500",children:"Total Users"}),e("div",{className:"bg-success-500/10 text-success-500 rounded-full p-2",children:e(l,{icon:"heroicons-outline:user-group"})})]}),e("div",{className:"text-2xl font-medium text-slate-900",children:c.totalUsers}),e("div",{className:"flex items-center space-x-2",children:e("div",{className:"text-sm text-success-500",children:t("span",{className:"flex items-center gap-1",children:[e(l,{icon:"heroicons-solid:login",className:"text-sm"}),c.recentLogins," recent logins"]})})})]})}),e(a,{children:t("div",{className:"space-y-1",children:[t("div",{className:"flex items-center justify-between",children:[e("div",{className:"text-slate-500",children:"Total Revenue"}),e("div",{className:"bg-info-500/10 text-info-500 rounded-full p-2",children:e(l,{icon:"heroicons-outline:currency-dollar"})})]}),t("div",{className:"text-2xl font-medium text-slate-900",children:["$",c.totalRevenue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),e("div",{className:"flex items-center space-x-2",children:e("div",{className:"text-sm text-info-500",children:t("span",{className:"flex items-center gap-1",children:[e(l,{icon:"heroicons-solid:calendar",className:"text-sm"}),"$",c.monthlyRevenue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," ","this month"]})})})]})}),e(a,{children:t("div",{className:"space-y-1",children:[t("div",{className:"flex items-center justify-between",children:[e("div",{className:"text-slate-500",children:"Active Plans"}),e("div",{className:"bg-warning-500/10 text-warning-500 rounded-full p-2",children:e(l,{icon:"heroicons-outline:clipboard-check"})})]}),e("div",{className:"text-2xl font-medium text-slate-900",children:c.activeCompanies}),e("div",{className:"flex items-center space-x-2",children:e("div",{className:"text-sm text-warning-500",children:t("span",{className:"flex items-center gap-1",children:[e(l,{icon:"heroicons-solid:clock",className:"text-sm"}),c.trialCompanies," trial accounts"]})})})]})})]}),e(a,{title:"Company Growth (Last 12 Months)",children:e("div",{className:"h-[335px] flex flex-col items-center justify-center",children:e("div",{className:"grid grid-cols-12 w-full h-48 items-end gap-1 mb-4 px-4",children:o.map((s,n)=>t("div",{className:"relative flex flex-col items-center justify-center h-full",children:[e("div",{className:"bg-primary-500 w-full rounded-t-md",style:{height:`${s.count?Math.max(20,s.count/Math.max(...o.map(g=>g.count))*100):2}%`}}),e("span",{className:"absolute -bottom-6 text-[10px] text-slate-600 rotate-45 origin-top-left",children:s.month})]},n))})})}),t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:[e(a,{title:"Recent Activity",children:m.length>0?e("ul",{className:"space-y-4",children:m.map((s,n)=>e("li",{className:"border-b border-slate-100 pb-4 last:border-0 last:pb-0",children:t("div",{className:"flex items-start",children:[e("div",{className:`h-9 w-9 rounded-full flex items-center justify-center mr-3 ${s.type==="login"?"bg-success-500/10":s.type==="company"?"bg-primary-500/10":"bg-warning-500/10"}`,children:e(l,{icon:s.type==="login"?"heroicons-outline:login":s.type==="company"?"heroicons-outline:office-building":"heroicons-outline:user",className:`text-lg ${s.type==="login"?"text-success-500":s.type==="company"?"text-primary-500":"text-warning-500"}`})}),t("div",{className:"flex-1",children:[e("h6",{className:"text-sm font-medium text-slate-900",children:s.message}),e("div",{className:"text-xs text-slate-500 mt-1",children:s.timestamp})]})]})},n))}):t("div",{className:"text-center py-5",children:[e(l,{icon:"heroicons-outline:clock",className:"text-3xl text-slate-300 mx-auto"}),e("p",{className:"text-sm text-slate-500 mt-2",children:"No recent activity"})]})}),e(a,{title:"Upcoming Plan Expirations",children:h.length>0?e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full text-sm text-left",children:[e("thead",{children:t("tr",{className:"bg-slate-50 dark:bg-slate-700",children:[e("th",{className:"px-4 py-3 text-slate-500",children:"Company"}),e("th",{className:"px-4 py-3 text-slate-500",children:"Plan"}),e("th",{className:"px-4 py-3 text-slate-500",children:"Expires"}),e("th",{className:"px-4 py-3 text-slate-500",children:"Status"})]})}),e("tbody",{children:h.map((s,n)=>t("tr",{className:"border-b border-slate-100",children:[e("td",{className:"px-4 py-3",children:e(r,{to:`/admin/companies/${s.id}`,className:"text-primary-500 hover:underline",children:s.name})}),e("td",{className:"px-4 py-3",children:s.plan}),e("td",{className:"px-4 py-3",children:s.expiry_date}),e("td",{className:"px-4 py-3",children:t("span",{className:`inline-block rounded-full px-2 py-1 text-xs font-medium text-white ${s.days_left<7?"bg-danger-500":s.days_left<15?"bg-warning-500":"bg-info-500"}`,children:[Math.floor(s.days_left)," ","days left"]})})]},n))})]})}):t("div",{className:"text-center py-5",children:[e(l,{icon:"heroicons-outline:check-circle",className:"text-3xl text-success-500 mx-auto"}),e("p",{className:"text-sm text-slate-500 mt-2",children:"No upcoming expirations"})]})})]}),e(a,{title:"Quick Actions",children:t("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[e(r,{to:"/admin/companies/create",className:"block",children:t("div",{className:"p-4 rounded-lg border border-slate-200 hover:bg-slate-50 transition duration-150 text-center",children:[e("div",{className:"h-10 w-10 mx-auto bg-primary-500/10 text-primary-500 flex items-center justify-center rounded-full mb-3",children:e(l,{icon:"heroicons-outline:plus"})}),e("h5",{className:"font-medium text-slate-900",children:"Add Company"}),e("p",{className:"text-xs text-slate-500 mt-1",children:"Create a new company account"})]})}),e(r,{to:"/admin/companies",className:"block",children:t("div",{className:"p-4 rounded-lg border border-slate-200 hover:bg-slate-50 transition duration-150 text-center",children:[e("div",{className:"h-10 w-10 mx-auto bg-success-500/10 text-success-500 flex items-center justify-center rounded-full mb-3",children:e(l,{icon:"heroicons-outline:office-building"})}),e("h5",{className:"font-medium text-slate-900",children:"Manage Companies"}),e("p",{className:"text-xs text-slate-500 mt-1",children:"View and edit company details"})]})}),t("div",{className:"p-4 rounded-lg border border-slate-200 hover:bg-slate-50 transition duration-150 text-center",children:[e("div",{className:"h-10 w-10 mx-auto bg-warning-500/10 text-warning-500 flex items-center justify-center rounded-full mb-3",children:e(l,{icon:"heroicons-outline:chart-bar"})}),e("h5",{className:"font-medium text-slate-900",children:"Analytics"}),e("p",{className:"text-xs text-slate-500 mt-1",children:"View detailed platform analytics"})]}),t("div",{className:"p-4 rounded-lg border border-slate-200 hover:bg-slate-50 transition duration-150 text-center",children:[e("div",{className:"h-10 w-10 mx-auto bg-info-500/10 text-info-500 flex items-center justify-center rounded-full mb-3",children:e(l,{icon:"heroicons-outline:cog"})}),e("h5",{className:"font-medium text-slate-900",children:"Settings"}),e("p",{className:"text-xs text-slate-500 mt-1",children:"Configure platform settings"})]})]})})]})};export{y as default};
