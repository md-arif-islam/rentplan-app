import{d as C,j as n,a as e,B as c,C as m,Q as p}from"./index.075fb68b.js";import{T as r}from"./Textinput.595cc28f.js";import{c as N}from"./customersApiSlice.4a4014f7.js";import{c as E,a as l,e as w,d as v,u as S,o as k}from"./array.537130ac.js";const I=E().shape({first_name:l().required("First name is required").max(255,"First name cannot exceed 255 characters"),last_name:l().required("Last name is required").max(255,"Last name cannot exceed 255 characters"),email:l().email("Please enter a valid email address").nullable().max(255,"Email cannot exceed 255 characters"),phone:l().nullable().max(50,"Phone cannot exceed 50 characters"),street:l().nullable().max(255,"Street cannot exceed 255 characters"),house_number:l().nullable().max(50,"House number cannot exceed 50 characters"),postal_code:l().nullable().max(20,"Postal code cannot exceed 20 characters"),city:l().nullable().max(100,"City cannot exceed 100 characters"),country:l().nullable().max(100,"Country cannot exceed 100 characters"),date_of_birth:w().nullable().typeError("Please enter a valid date").transform(o=>o?new Date(o):null),woocommerce_customer_id:v().nullable().integer("WooCommerce ID must be an integer").transform(o=>isNaN(o)?null:o)}),q=()=>{const o=C(),[b,{isLoading:i}]=N(),{register:t,handleSubmit:x,formState:{errors:a,isSubmitting:d},setError:y}=S({resolver:k(I),mode:"onChange",defaultValues:{first_name:"",last_name:"",email:"",phone:"",street:"",house_number:"",postal_code:"",city:"",country:"",date_of_birth:null,woocommerce_customer_id:null}});return n("div",{className:"space-y-5",children:[n("div",{className:"flex flex-wrap justify-between items-center",children:[e("h4",{className:"font-medium lg:text-2xl text-xl capitalize text-slate-900 inline-block ltr:pr-4 rtl:pl-4",children:"Create New Customer"}),e(c,{icon:"heroicons-outline:arrow-left",text:"Back",className:"btn-outline-dark",onClick:()=>o("/company/customers")})]}),n("form",{onSubmit:x(async f=>{var u,h;try{await b(f).unwrap(),p.success("Customer created successfully"),o("/company/customers")}catch(s){console.error("Create failed",s),(u=s==null?void 0:s.data)!=null&&u.errors?Object.entries(s.data.errors).forEach(([_,g])=>{y(_,{type:"manual",message:g[0]})}):p.error(((h=s==null?void 0:s.data)==null?void 0:h.message)||"Failed to create customer")}}),children:[e(m,{title:"Personal Information",children:n("div",{className:"grid lg:grid-cols-2 md:grid-cols-2 grid-cols-1 gap-5",children:[e(r,{label:"First Name *",type:"text",placeholder:"Enter first name",register:t,name:"first_name",error:a.first_name}),e(r,{label:"Last Name *",type:"text",placeholder:"Enter last name",register:t,name:"last_name",error:a.last_name}),e(r,{label:"Email",type:"email",placeholder:"Enter email address",register:t,name:"email",error:a.email}),e(r,{label:"Phone",type:"text",placeholder:"Enter phone number",register:t,name:"phone",error:a.phone}),e(r,{label:"Date of Birth",type:"date",placeholder:"Select date of birth",register:t,name:"date_of_birth",error:a.date_of_birth})]})}),e(m,{title:"Address Information",className:"mt-5",children:n("div",{className:"grid lg:grid-cols-2 md:grid-cols-2 grid-cols-1 gap-5",children:[e(r,{label:"Street",type:"text",placeholder:"Enter street name",register:t,name:"street",error:a.street}),e(r,{label:"House Number",type:"text",placeholder:"Enter house number",register:t,name:"house_number",error:a.house_number}),e(r,{label:"Postal Code",type:"text",placeholder:"Enter postal code",register:t,name:"postal_code",error:a.postal_code}),e(r,{label:"City",type:"text",placeholder:"Enter city",register:t,name:"city",error:a.city}),e(r,{label:"Country",type:"text",placeholder:"Enter country",register:t,name:"country",error:a.country})]})}),e(m,{title:"Integration Information",className:"mt-5",children:e("div",{className:"grid lg:grid-cols-2 md:grid-cols-2 grid-cols-1 gap-5",children:e(r,{label:"WooCommerce Customer ID",type:"number",placeholder:"Enter WooCommerce ID (optional)",register:t,name:"woocommerce_customer_id",error:a.woocommerce_customer_id})})}),n("div",{className:"flex justify-between items-center mt-5",children:[e(c,{type:"button",icon:"heroicons-outline:x",text:"Cancel",className:"btn-outline-dark",onClick:()=>o("/company/customers")}),e(c,{type:"submit",icon:"heroicons-outline:plus",text:"Create Customer",className:"btn-dark",isLoading:i||d,disabled:i||d})]})]})]})};export{q as default};
