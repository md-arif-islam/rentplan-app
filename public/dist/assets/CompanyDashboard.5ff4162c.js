import{j as t,a as e,C as c,I as a,L as n}from"./index.075fb68b.js";import{a as g}from"./dashboardApiSlice.fb731294.js";const v=()=>{var u;const{data:l,isLoading:p,isError:N,error:o}=g();if(p)return t("div",{className:"space-y-5",children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[1,2,3,4].map(s=>e(c,{children:e("div",{className:"h-24 animate-pulse bg-slate-200 dark:bg-slate-700 rounded"})},s))}),e(c,{children:e("div",{className:"h-[335px] animate-pulse bg-slate-200 dark:bg-slate-700 rounded"})})]});if(N)return e(c,{children:t("div",{className:"flex flex-col items-center justify-center h-60",children:[e(a,{icon:"heroicons-outline:exclamation-circle",className:"text-danger-500 text-4xl mb-2"}),e("h3",{className:"text-xl font-medium text-slate-900",children:"Error Loading Dashboard Data"}),e("p",{className:"text-sm text-slate-600 mt-1 mb-4",children:((u=o==null?void 0:o.data)==null?void 0:u.message)||"Could not load dashboard information"})]})});const r=(l==null?void 0:l.company)||{name:"Your Company",plan:"No Plan",planStatus:"inactive",planExpiry:"N/A",daysLeft:0},d=(l==null?void 0:l.stats)||{totalUsers:0,totalCustomers:0,totalProducts:0,totalOrders:0,activeRentals:0},m=(l==null?void 0:l.orderTrends)||[],h=(l==null?void 0:l.recentActivity)||[],x=(l==null?void 0:l.upcomingReturns)||[];return t("div",{className:"space-y-5",children:[t(c,{children:[t("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between",children:[t("div",{children:[t("h2",{className:"text-xl font-medium text-slate-900",children:["Welcome to ",r.name]}),t("div",{className:"mt-2 text-slate-500",children:["Your current plan:"," ",e("span",{className:"font-medium",children:r.plan})]})]}),t("div",{className:"mt-4 md:mt-0 flex items-center",children:[e("span",{className:`inline-block rounded-full px-3 py-1 text-sm font-medium text-white mr-3 ${r.planStatus==="active"?"bg-success-500":r.planStatus==="trial"?"bg-warning-500":"bg-danger-500"}`,children:r.planStatus.toUpperCase()}),r.daysLeft>0&&t("span",{className:`inline-block rounded-full px-3 py-1 text-sm font-medium text-white ${r.daysLeft<7?"bg-danger-500":r.daysLeft<15?"bg-warning-500":"bg-success-500"}`,children:[Math.floor(r.daysLeft)," days left"]})]})]}),r.planStatus==="active"&&t("div",{className:"mt-4 flex justify-end text-sm text-slate-500",children:["Expires on: ",r.planExpiry]})]}),t("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[e(c,{children:t("div",{className:"space-y-1",children:[t("div",{className:"flex items-center justify-between",children:[e("div",{className:"text-slate-500",children:"Customers"}),e("div",{className:"bg-primary-500/10 text-primary-500 rounded-full p-2",children:e(a,{icon:"heroicons-outline:users"})})]}),e("div",{className:"text-2xl font-medium text-slate-900",children:d.totalCustomers}),e("div",{className:"flex items-center space-x-2",children:e("span",{className:"text-sm text-slate-500",children:e(n,{to:"/company/customers",className:"text-primary-500 hover:underline",children:"Manage customers"})})})]})}),e(c,{children:t("div",{className:"space-y-1",children:[t("div",{className:"flex items-center justify-between",children:[e("div",{className:"text-slate-500",children:"Products"}),e("div",{className:"bg-success-500/10 text-success-500 rounded-full p-2",children:e(a,{icon:"heroicons-outline:cube"})})]}),e("div",{className:"text-2xl font-medium text-slate-900",children:d.totalProducts}),e("div",{className:"flex items-center space-x-2",children:e("span",{className:"text-sm text-slate-500",children:e(n,{to:"/company/products",className:"text-success-500 hover:underline",children:"Manage products"})})})]})}),e(c,{children:t("div",{className:"space-y-1",children:[t("div",{className:"flex items-center justify-between",children:[e("div",{className:"text-slate-500",children:"Orders"}),e("div",{className:"bg-info-500/10 text-info-500 rounded-full p-2",children:e(a,{icon:"heroicons-outline:shopping-cart"})})]}),e("div",{className:"text-2xl font-medium text-slate-900",children:d.totalOrders}),e("div",{className:"flex items-center space-x-2",children:e("span",{className:"text-sm text-slate-500",children:e(n,{to:"/company/orders",className:"text-info-500 hover:underline",children:"View all orders"})})})]})}),e(c,{children:t("div",{className:"space-y-1",children:[t("div",{className:"flex items-center justify-between",children:[e("div",{className:"text-slate-500",children:"Active Rentals"}),e("div",{className:"bg-warning-500/10 text-warning-500 rounded-full p-2",children:e(a,{icon:"heroicons-outline:clipboard-check"})})]}),e("div",{className:"text-2xl font-medium text-slate-900",children:d.activeRentals}),e("div",{className:"flex items-center space-x-2",children:e("span",{className:"text-sm text-warning-500",children:t("span",{className:"flex items-center gap-1",children:[e(a,{icon:"heroicons-solid:clock",className:"text-sm"}),"Currently rented"]})})})]})})]}),e(c,{title:"Order Trends (Last 6 Months)",children:e("div",{className:"h-[335px] flex flex-col items-center justify-center",children:e("div",{className:"grid grid-cols-12 w-full h-48 items-end gap-1 mb-4 px-4",children:m.map((s,i)=>t("div",{className:"relative flex flex-col items-center justify-center h-full col-span-2",children:[e("div",{className:"bg-primary-500 w-full rounded-t-md",style:{height:`${s.count?Math.max(20,s.count/Math.max(...m.map(f=>f.count),1)*100):2}%`}}),e("span",{className:"absolute -bottom-6 text-[10px] text-slate-600 rotate-45 origin-top-left",children:s.month})]},i))})})}),t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:[e(c,{title:"Recent Activity",children:h.length>0?e("ul",{className:"space-y-4",children:h.map((s,i)=>e("li",{className:"border-b border-slate-100 pb-4 last:border-0 last:pb-0",children:t("div",{className:"flex items-start",children:[e("div",{className:`h-9 w-9 rounded-full flex items-center justify-center mr-3 ${s.type==="order"?"bg-info-500/10":s.type==="customer"?"bg-primary-500/10":"bg-success-500/10"}`,children:e(a,{icon:s.type==="order"?"heroicons-outline:shopping-cart":s.type==="customer"?"heroicons-outline:users":"heroicons-outline:cube",className:`text-lg ${s.type==="order"?"text-info-500":s.type==="customer"?"text-primary-500":"text-success-500"}`})}),t("div",{className:"flex-1",children:[e("h6",{className:"text-sm font-medium text-slate-900",children:s.message}),e("div",{className:"text-xs text-slate-500 mt-1",children:s.timestamp})]})]})},i))}):t("div",{className:"text-center py-5",children:[e(a,{icon:"heroicons-outline:clock",className:"text-3xl text-slate-300 mx-auto"}),e("p",{className:"text-sm text-slate-500 mt-2",children:"No recent activity"})]})}),e(c,{title:"Upcoming Returns",children:x.length>0?e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full text-sm text-left",children:[e("thead",{children:t("tr",{className:"bg-slate-50 dark:bg-slate-700",children:[e("th",{className:"px-4 py-3 text-slate-500",children:"Customer"}),e("th",{className:"px-4 py-3 text-slate-500",children:"Product"}),e("th",{className:"px-4 py-3 text-slate-500",children:"End Date"}),e("th",{className:"px-4 py-3 text-slate-500",children:"Status"})]})}),e("tbody",{children:x.map((s,i)=>t("tr",{className:"border-b border-slate-100",children:[e("td",{className:"px-4 py-3",children:e(n,{to:`/company/orders/${s.id}`,className:"text-primary-500 hover:underline",children:s.customer_name})}),e("td",{className:"px-4 py-3",children:s.product_name}),e("td",{className:"px-4 py-3",children:s.end_date}),e("td",{className:"px-4 py-3",children:t("span",{className:`inline-block rounded-full px-2 py-1 text-xs font-medium text-white ${s.days_left<3?"bg-danger-500":s.days_left<7?"bg-warning-500":"bg-info-500"}`,children:[Math.floor(s.days_left)," ","days left"]})})]},i))})]})}):t("div",{className:"text-center py-5",children:[e(a,{icon:"heroicons-outline:check-circle",className:"text-3xl text-success-500 mx-auto"}),e("p",{className:"text-sm text-slate-500 mt-2",children:"No upcoming returns"})]})})]}),e(c,{title:"Quick Actions",children:t("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[e(n,{to:"/company/customers/create",className:"block",children:t("div",{className:"p-4 rounded-lg border border-slate-200 hover:bg-slate-50 transition duration-150 text-center",children:[e("div",{className:"h-10 w-10 mx-auto bg-primary-500/10 text-primary-500 flex items-center justify-center rounded-full mb-3",children:e(a,{icon:"heroicons-outline:user-add"})}),e("h5",{className:"font-medium text-slate-900",children:"Add Customer"}),e("p",{className:"text-xs text-slate-500 mt-1",children:"Create a new customer record"})]})}),e(n,{to:"/company/products/create",className:"block",children:t("div",{className:"p-4 rounded-lg border border-slate-200 hover:bg-slate-50 transition duration-150 text-center",children:[e("div",{className:"h-10 w-10 mx-auto bg-success-500/10 text-success-500 flex items-center justify-center rounded-full mb-3",children:e(a,{icon:"heroicons-outline:plus-circle"})}),e("h5",{className:"font-medium text-slate-900",children:"Add Product"}),e("p",{className:"text-xs text-slate-500 mt-1",children:"Add new rental product"})]})}),e(n,{to:"/company/orders/create",className:"block",children:t("div",{className:"p-4 rounded-lg border border-slate-200 hover:bg-slate-50 transition duration-150 text-center",children:[e("div",{className:"h-10 w-10 mx-auto bg-warning-500/10 text-warning-500 flex items-center justify-center rounded-full mb-3",children:e(a,{icon:"heroicons-outline:shopping-cart"})}),e("h5",{className:"font-medium text-slate-900",children:"New Order"}),e("p",{className:"text-xs text-slate-500 mt-1",children:"Create a new rental order"})]})}),e(n,{to:"/company/reports",className:"block",children:t("div",{className:"p-4 rounded-lg border border-slate-200 hover:bg-slate-50 transition duration-150 text-center",children:[e("div",{className:"h-10 w-10 mx-auto bg-info-500/10 text-info-500 flex items-center justify-center rounded-full mb-3",children:e(a,{icon:"heroicons-outline:chart-bar"})}),e("h5",{className:"font-medium text-slate-900",children:"Reports"}),e("p",{className:"text-xs text-slate-500 mt-1",children:"View detailed business reports"})]})})]})})]})};export{v as default};
