import{j as l,a as e,u as v,c as E,d as q,r as w,L as j,B as C,s as F,e as _,Q as b,f as D}from"./index.075fb68b.js";import{A as P}from"./AuthLayout.52900836.js";import{T as x}from"./Textinput.595cc28f.js";import{c as R,a as k,u as $,o as A}from"./array.537130ac.js";import"./left-image.1bc0c5de.js";const B="/dist/assets/ck-white.cf7cf868.svg",I=({id:s,disabled:t,label:d,value:o,name:m,onChange:i,activeClass:n="ring-black-500  bg-slate-900 dark:bg-slate-700 dark:ring-slate-700 "})=>l("label",{className:`flex items-center ${t?" cursor-not-allowed opacity-50":"cursor-pointer"}`,id:s,children:[e("input",{type:"checkbox",className:"hidden",name:m,checked:o,onChange:i,htmlFor:s,disabled:t}),e("span",{className:`h-4 w-4 border flex-none border-slate-100 dark:border-slate-800 rounded 
        inline-flex ltr:mr-3 rtl:ml-3 relative transition-all duration-150
        ${o?n+" ring-2 ring-offset-2 dark:ring-offset-slate-800 ":"bg-slate-100 dark:bg-slate-600 dark:border-slate-600"}
        `,children:o&&e("img",{src:B,alt:"",className:"h-[10px] w-[10px] block m-auto"})}),e("span",{className:"text-slate-500 dark:text-slate-400 text-sm leading-6 capitalize",children:d})]}),T=R({email:k().email("Invalid email").required("Email is Required"),password:k().required("Password is Required")}).required(),z=()=>{const[s,{isLoading:t,isError:d,error:o,isSuccess:m}]=v(),i=E(),{register:n,formState:{errors:u},handleSubmit:y}=$({resolver:A(T),mode:"all"}),c=q(),N=async L=>{var g,f,h;try{const r=await s(L);if(r!=null&&r.error)throw console.log("Login error response:",r.error),new Error(((g=r.error.data)==null?void 0:g.message)||"Login failed");const a=r.data.user;i(F({user:a,token:r.data.token})),a.user_profile&&i(_(a.user_profile)),b.success("Login Successful"),((f=a.role)==null?void 0:f.name)==="super_admin"?c("/admin/dashboard"):((h=a.role)==null?void 0:h.name)==="company_admin"?c("/company/dashboard"):c("/")}catch(r){b.error(r.message)}},[p,S]=w.exports.useState(!0);return l("form",{onSubmit:y(N),className:"space-y-4 ",children:[e(x,{name:"email",label:"email",type:"email",register:n,error:u.email,className:"h-[48px]",placeholder:"Enter your email"}),e(x,{name:"password",label:"passwrod",type:"password",register:n,error:u.password,className:"h-[48px]",placeholder:"Enter your password",hasicon:!0}),l("div",{className:"flex justify-between",children:[e(I,{value:p,onChange:()=>S(!p),label:"Keep me signed in"}),l(j,{to:"/forgot-password",className:"text-sm text-slate-800 dark:text-slate-400 leading-6 font-medium",children:["Forgot Password?"," "]})]}),e(C,{type:"submit",text:"Sign in",className:"btn btn-dark block w-full text-center ",isLoading:t})]})},H=()=>(D(),w.exports.useEffect(()=>{document.title="Sign in | Rentplan"},[]),e(P,{title:"Sign in",subtitle:"Sign in to your account",children:e(z,{})}));export{H as default};
